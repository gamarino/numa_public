<?xml version="1.0" ?>
<openerp>
    <data>

        <record id="numa_partner_pricelist_supplier_form_view" model="ir.ui.view">
            <field name="name">numa.partner.pricelist.supplier.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <xpath expr="//group[@name='purchase']" position="inside">
					<field name="profile_pricelist_supplier_id"/>
					<field name="pricelist_supplier_id" domain="[('pricelist_type','=','purchase'),('pricelist_selection','=',True)]"/>
                </xpath> 
            </field>
        </record>
        
        <record id="numa_partner_pricelist_customer_form_view" model="ir.ui.view">
            <field name="name">numa.partner.pricelist.customer.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="product.view_partner_property_form"/>
            <field name="arch" type="xml">
                <field name="property_product_pricelist" position="before">
				    <field name="profile_pricelist_customer_id"/>
                </field>				
				<xpath expr="//field[@name='property_product_pricelist']" position="attributes">					
					<attribute name="domain">[('pricelist_type', '=', 'sale'),('pricelist_selection','=',True)]</attribute>
				</xpath>
            </field>
        </record>

        <record id="numa_profile_pricelist_search_view" model="ir.ui.view">
            <field name="name">numa.profile_pricelist.search</field>
            <field name="model">numa.profile_partner_pricelist</field>
            <field name="arch" type="xml">
                <search string="Profile Price List" >
					<field name="name"/>
					<field name="partner_domain"/>
					<field name="product_pricelist_ids"/>			
                </search>
            </field>
        </record>

        <record id="numa_profile_pricelist_tree_view" model="ir.ui.view" >
            <field name="name">numa.profile_pricelist.tree</field>
            <field name="model">numa.profile_partner_pricelist</field>
            <field name="arch" type="xml">
				<tree>
					<field name="name"/>
					<field name="partner_domain"/>
					<field name="product_pricelist_ids"/>
				</tree>
            </field>
        </record>

        <record id="numa_profile_pricelist_form_view" model="ir.ui.view">
            <field name="name">Profile Price List</field>
            <field name="model">numa.profile_partner_pricelist</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Profile Price List">
					<sheet>
						<header>

						</header>
						<group string="Profile Price List">
							<field name="name"/>
							<field name="partner_domain"/>
							<field name="product_pricelist_ids" domain="[('pricelist_type','=',partner_domain)]"/>	
							<field name="note"/>
						</group>
					</sheet>
                </form>
            </field>
        </record>

        <record id="numa_product_pricelist_form_view" model="ir.ui.view">
            <field name="name">numa.product.pricelist.form</field>
            <field name="model">product.pricelist</field>
            <field name="inherit_id" ref="product.product_pricelist_view"/>
            <field name="arch" type="xml">
                <field name="currency_id" position="before">
				    <field name="parent_pricelist_id" style="width:30% !important"/>
				    <field name="pricelist_selection"/>
				    <field name="description"/>
				    <field name="pricelist_type" style="width:30% !important"/>
                </field>
			    <field name="currency_id" position="replace">
					<field name="currency_id" style="width:30% !important"/>
				</field>
			    <field name="company_id" position="replace">
					<field name="company_id" style="width:30% !important"/>
				</field>
                <xpath expr="//form" position="inside">
					<field name="note"/>
                </xpath>
            </field>
        </record>

        <record id="product_pricelist_item_form_view" model="ir.ui.view">
            <field name="name">product.pricelist.item.form</field>
            <field name="model">product.pricelist.item</field>
            <field name="inherit_id" ref="product.product_pricelist_item_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//form" position="inside">
                    <div attrs="{'invisible':[('compute_price', '!=', 'python')]}">
						<label for="python_code" string="Python Code" style="margin-bottom:10px"/>
						<field name="python_code" nolabel="1" attrs="{'required':[('compute_price', '=', 'python')]}"/>
                    </div>
                </xpath>
                <xpath expr="//group" position="after">
					<field name="not_multiple_condition" attrs="{'invisible':[('applied_on', '!=', '4_multi')]}"/>
					<label for="not_multiple_condition" string="Not Multiple Condition" attrs="{'invisible':[('applied_on', '!=', '4_multi')]}"/>
					<notebook attrs="{'invisible':[('applied_on', '!=', '4_multi')]}">
						<page string="Products">
							<notebook>
								<page string="Products">
									<field name="product_ids" nolabel="1"/>
								</page>
								<page string="Product Categories">
									<field name="product_category_ids" nolabel="1"/>
								</page>
								<page string="Product Trademark">
									<field name="product_trademark_ids" nolabel="1"/>
								</page>
							</notebook>
						</page>
						<page string="Partners">
							<notebook>
								<page string="Partners">
									<field name="partner_ids" nolabel="1"/>
								</page>
								<page string="Partner Categories">
									<field name="partner_category_ids" nolabel="1"/>
								</page>
							</notebook>
						</page>								
						<page string="Location">
							<notebook>
								<page string="States">
									<field name="state_ids" nolabel="1"/>
								</page>
								<page string="Countries">
									<field name="country_ids" nolabel="1"/>
								</page>
							</notebook>
						</page>	
					</notebook>
				</xpath>
                <xpath expr="//field[@name='base']" position="after">
                    <field name="pricelist_base_id" colspan="6" attrs="{'invisible':[('base', '!=', 'pricelist_base')],'required':[('base', '=', 'pricelist_base')]}"/>
                </xpath>
                <xpath expr="//field[@name='date_end']" position="after">
                    <field name="note"/>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="numa_product_pricelist_base_search_view">
            <field name="name">numa.product.pricelist.base.search</field>
            <field name="model">numa.product_pricelist_base</field>
            <field name="arch" type="xml">
                <search string="Products Price List Base Search">
                    <field name="name" string="Products Price List Base"/>
                    <field name="pricelist_type"/>
                    <field name="pricelist_currency_id"/>
                    <field name="pricelist_company_id"/>
                    <filter string="Archived" name="inactive" domain="[('pricelist_active','=',False)]"/>
                </search>
            </field>
        </record>

        <record id="numa_product_pricelist_base_tree_view" model="ir.ui.view">
            <field name="name">numa.product.pricelist.base.tree</field>
            <field name="model">numa.product_pricelist_base</field>
            <field name="arch" type="xml">
                <tree string="Products Price List Base">
                    <field name="name"/>
                    <field name="description"/>
                    <field name="pricelist_type"/>
                    <field name="pricelist_currency_id"/>
                    <field name="pricelist_company_id"/>
                </tree>
            </field>
        </record>
        
        <record id="numa_product_pricelist_base_form_view" model="ir.ui.view">
            <field name="name">numa.product.pricelist.base.form</field>
            <field name="model">numa.product_pricelist_base</field>
            <field name="arch" type="xml">
                <form string="Products Price List Base">
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="pricelist_active" type="object" class="oe_stat_button" icon="fa-archive">
                                <field name="pricelist_active" widget="boolean_button" options="{'terminology': 'archive'}"/>
                            </button>
                            <button name="action_new_pricelist_version" string="New Version" type="object" class="oe_stat_button" icon="fa-plus"/>
                        </div>
                        <div class="oe_title">
                            <h1><field name="name" placeholder="e.g. Retailers..."/></h1>
                        </div>
                        <group>
							<field name="description"/>
							<field name="pricelist_type" style="width:30% !important"/>
                            <field name="pricelist_currency_id" options="{'no_create': True}" style="width:30% !important"/>
                            <field name="pricelist_company_id" options="{'no_create': True}" style="width:30% !important"/>
                        </group>
                        <div>
                            <separator string="Pricelist Versions"/>
                            <notebook>
								<page string="Price List Versions">
									<field name="pricelist_version_ids" nolabel="1">
										<tree string="Price List Versions">
											<field name="name"/>
											<field name="description"/>
											<field name="date_valid_from"/>
											<field name="date_valid_to"/>
											<field name="pricelist_currency_rel"/>
											<field name="state"/>
										</tree>
									</field>
								</page>
								<page string="Products Selected">
									<field name="pricelist_product_ids" nolabel="1">
										<tree string="Products">
											<field name="name"/>
										</tree>
									</field>
								</page>
							</notebook>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="numa_product_pricelist_base_version_new_form_view" model="ir.ui.view">
            <field name="name">numa.product.pricelist.base.version.new.form</field>
            <field name="model">numa.product_pricelist_base_version_new</field>
            <field name="arch" type="xml">
                <form string="Products Price List Base Version New">
					<header>
						<button name="action_generate_version" string="Generate Version" type="object" class="oe_stat_button" icon="/numa_product_pricelist/static/src/img/ok.png"/>
					</header>
                    <sheet>
                        <div class="oe_title" style="margin-bottom:30px;">
                            <h1><field name="name" placeholder="e.g. June 2017..." attrs="{'required': True}"/></h1>
                        </div>
                        <group>
							<field name="pricelist_base_id" invisible="1"/>
							<field name="description"/>
                            <field name="new_pricelist_base_version_based"/>
                            <field name="pricelist_base_version_id" attrs="{'invisible':[('new_pricelist_base_version_based', '!=', 'pricelist_version')],'required':[('new_pricelist_base_version_based', '=', 'pricelist_version')]}" domain="[('pricelist_id','=',pricelist_base_id)]"/>
                            <field name="percentage_on_price" attrs="{'invisible':[('new_pricelist_base_version_based', '!=', 'pricelist_version')],'required':[('new_pricelist_base_version_based', '=', 'pricelist_version')]}"/>
							<field name="date_valid_from"/>
							<field name="date_valid_to"/>
							<field name="note"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="numa_product_pricelist_base_version_search_view">
            <field name="name">numa.product.pricelist.base.version.search</field>
            <field name="model">numa.product_pricelist_base_version</field>
            <field name="arch" type="xml">
                <search string="Products Price List Base Version Search">
                    <field name="name"/>
                    <field name="description"/>
                    <field name="pricelist_id"/>
                    <field name="date_valid_from"/>
                    <field name="date_valid_to"/>
                    <field name="pricelist_currency_rel"/>
                    <field name="state"/>
                    <filter string="Archived" name="inactive" domain="[('pricelist_version_active','=',False)]"/>
                </search>
            </field>
        </record>

        <record id="numa_product_pricelist_base_version_tree_view" model="ir.ui.view">
            <field name="name">numa.product.pricelist.base.version.tree</field>
            <field name="model">numa.product_pricelist_base_version</field>
            <field name="arch" type="xml">
                <tree string="Products Price List Base Version">
					<field name="pricelist_id"/>
                    <field name="name"/>
                    <field name="description"/>
                    <field name="date_valid_from"/>
                    <field name="date_valid_to"/>
                    <field name="pricelist_currency_rel"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="numa_product_pricelist_base_version_form_view" model="ir.ui.view">
            <field name="name">numa.product.pricelist.base.version.form</field>
            <field name="model">numa.product_pricelist_base_version</field>
            <field name="arch" type="xml">
                <form string="Products Price List Base Version">
					<header>
						<field name="state" widget="statusbar" clickable="1"/>
					</header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="pricelist_active" type="object" class="oe_stat_button" icon="fa-archive">
                                <field name="pricelist_version_active" widget="boolean_button" options="{'terminology': 'archive'}"/>
                            </button>
                            <button class="oe_inline oe_stat_button" string="Add Products" name="action_add_products" type="object" icon="fa-list"/>
                        </div>
                        <div class="oe_title">
                            <h1><field name="name" placeholder="e.g. June 2017..."/></h1>
                        </div>
						<group>
							<field name="description"/>
							<field name="pricelist_id" style="width:30% !important"/>
							<field name="date_valid_from" style="width:30% !important"/>
							<field name="date_valid_to" style="width:30% !important"/>
							<field name="pricelist_currency_rel" style="width:30% !important"/>
                        </group>
                        <div>
                            <separator string="Price List Version Items"/>
                            <field name="product_ids" nolabel="1">
                                <tree string="Products" editable="top">
                                    <field name="product_id"/>
                                    <field name="item_price" widget="monetary"/>
                                </tree>
                            </field>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="numa_product_pricelist_base_version_items_search_view">
            <field name="name">numa.product.pricelist.base.version.items.search</field>
            <field name="model">numa.product_pricelist_base_version_items</field>
            <field name="arch" type="xml">
                <search string="Products Price List Base Version Items Search">
                    <field name="product_id"/>
                    <field name="pricelist_rel"/>
                    <field name="pricelist_version_base_id"/>
                    <field name="date_valid_from_rel"/>
                    <field name="date_valid_to_rel"/>
                    <field name="pricelist_currency_rel"/>
                </search>
            </field>
        </record>

        <record id="numa_product_pricelist_base_version_items_tree_view" model="ir.ui.view">
            <field name="name">numa.product.pricelist.base.items.version.tree</field>
            <field name="model">numa.product_pricelist_base_version_items</field>
            <field name="arch" type="xml">
                <tree string="Products Price List Base Version Items">
                    <field name="product_id"/>
                    <field name="pricelist_rel"/>
                    <field name="pricelist_version_base_id"/>
                    <field name="date_valid_from_rel"/>
                    <field name="date_valid_to_rel"/>
                    <field name="pricelist_currency_rel"/>
                    <field name="item_price" widget="monetary"/>
                </tree>
            </field>
        </record>

		<record id="action_numa_profile_pricelist" model="ir.actions.act_window">
			<field name="name">Profile Price List</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">numa.profile_partner_pricelist</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<record id="action_numa_product_pricelist_base" model="ir.actions.act_window">
			<field name="name">Product Price List Base</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">numa.product_pricelist_base</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<record id="action_numa_product_pricelist_base_version" model="ir.actions.act_window">
			<field name="name">Product Price List Base Version</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">numa.product_pricelist_base_version</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		<record id="action_numa_product_pricelist_base_version_items" model="ir.actions.act_window">
			<field name="name">Product Price List Base Version Items</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">numa.product_pricelist_base_version_items</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree</field>
		</record>

		<menuitem name="Profile Price List" action="action_numa_profile_pricelist" id="numa_profile_pricelist" parent="sale.menu_product_pricelist_main" sequence="5"/>
		<menuitem name="Price List Base" id="numa_product_pricelist_base_submenu" parent="sale.menu_product_pricelist_main" sequence="10"/>
		<menuitem name="Price List Base" action="action_numa_product_pricelist_base" id="numa_product_pricelist_base" parent="numa_product_pricelist_base_submenu" sequence="10"/>
		<menuitem name="Price List Base Version" action="action_numa_product_pricelist_base_version" id="numa_product_pricelist_base_version" parent="numa_product_pricelist_base_submenu" sequence="20"/>
		<menuitem name="Price List Base Version Items" action="action_numa_product_pricelist_base_version_items" id="numa_product_pricelist_base_version_items" parent="numa_product_pricelist_base_submenu" sequence="30"/>
        
	</data>
</openerp>


